<html>
<head>
    <title>What next?</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/springy/2.8.0/springy.min.js" integrity="sha256-WmPKL3JQrpEu+5WvCq526urQCByODLWxLk4hLTZdzA0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/springy/2.8.0/springyui.min.js" integrity="sha256-p9lwSD4M2dEw39+oiqJdXwnrWKgUPUg63X4fTaA28Ck=" crossorigin="anonymous"></script>
</head>
<body>
    <div>
        <label>List some technologies you know:</label>
        <input type="text" id="searchBar">
        <button id="displayGraphButton">Click me!</button>
    </div>
    <script>
        $("#displayGraphButton").click(function(){
            if (document.contains(document.getElementById("springyGraph"))) {
                document.getElementById("springyGraph").remove();}
            var canvas = document.createElement("canvas");
            canvas.id = "springyGraph";
            canvas.width = 0.7*window.innerWidth;
            canvas.height = 0.67*canvas.width;
            document.body.appendChild(canvas);
            var terms = document.getElementById("searchBar").value;
            var graph = new Springy.Graph();
            $.ajax({
                type: 'POST',
                url: '/',
                data: {'terms':terms},
                success: function (result) {
                    console.log(result['graph']);
                    graph.loadJSON(result['graph']);
                    springy = jQuery('#springyGraph').springy({graph: graph});
                }
            });
        });
    </script>
</body>
</html>